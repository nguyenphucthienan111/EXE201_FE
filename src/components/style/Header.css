/* ===== Header (final, fixed) ===== */
.header {
  background: #cdb5f7; /* tím nhạt */
}

/* 3 cột: logo | nav | actions (search + bell + user) */
.header__container{
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px 15px;
  display: grid;
  grid-template-columns: 220px 1fr auto;
  align-items: center;
  column-gap: 20px;
  color: #fff;
}

/* ========== Logo ========== */
.logo{ display:flex; align-items:center; gap:10px; text-decoration:none; color:#fff; }
.logo__img{ width:40px; height:40px; border-radius:50%; }
.logo__text{ font-size:1.7rem; font-weight:800; letter-spacing:.1px; }

/* ========== Nav giữa ========== */
.nav{ justify-self:center; min-width:0; }
.nav-links{
  list-style:none; display:flex; align-items:center; gap:22px; margin:0; padding:0;
}
.nav-links a{
  color:#fff; text-decoration:none; font-weight:600; font-size:.96rem;
  opacity:.95; transition:opacity .15s ease, transform .06s ease;
}
.nav-links a:hover{ opacity:1; }
.nav-links a:active{ transform:translateY(1px); }

/* Nút dạng link (Features scroll...) */
.linklike{
  appearance:none; background:none; border:none; padding:0; margin:0;
  font:inherit; color:inherit; cursor:pointer; text-decoration:none; font-weight:600;
}
.linklike:hover{ opacity:.95; }
.linklike:focus-visible{ outline:2px solid rgba(255,255,255,.6); outline-offset:2px; }

/* ========== Cụm actions bên phải ========== */
.actions{
  justify-self:end;
  display:flex; align-items:center; gap:12px;
  flex-wrap:nowrap; min-width:0;
}
.actions > *{ flex:0 0 auto; }

/* Thứ tự khi đã đăng nhập: User (3) → Search (2) → Bell (1) */
.header--auth .actions .nav-user{ order:3; }
.header--auth .actions .search  { order:2; }
.header--auth .actions .notif   { order:1; }

/* ========== Search (SCOPED để tránh xung đột) ========== */
.header .search{
  position:relative; display:flex; align-items:center; min-width:0; width:auto;
}
.header .search input{
  width:220px; height:36px;
  padding:0 40px 0 14px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.85);
  background:rgba(255,255,255,.08);
  color:#fff; outline:none; font-size:.95rem;
  transition: box-shadow .15s, border-color .15s, background .15s;
}
.header .search input::placeholder{ color:#efe9ff; }
.header .search input:focus{
  border-color:#fff; background:rgba(255,255,255,.12);
  box-shadow:0 0 0 3px rgba(255,255,255,.25);
}
.header .search .search__btn{
  position:absolute; right:8px;
  height:28px; width:28px; display:grid; place-items:center;
  border:none; background:transparent; color:#fff; cursor:pointer;
}

/* ========== Bell (Notifications) ========== */
.notif{ position:relative; }
.bell-btn{
  position:relative; display:inline-flex; align-items:center; justify-content:center;
  height:34px; width:34px; margin:0 2px;
  border:0; background:transparent; color:#fff; border-radius:10px; cursor:pointer;
  transition: background .15s ease;
}
.bell-btn:hover{ background: rgba(0,0,0,.08); }
.badge{
  position:absolute; top:-2px; right:-2px;
  min-width:18px; height:18px; padding:0 5px;
  background:#ff5a63; color:#fff; font-size:11px; font-weight:800;
  border-radius:999px; display:inline-flex; align-items:center; justify-content:center;
  box-shadow:0 0 0 2px rgba(205,181,247,.85);
}

/* Dropdown panel */
.notif-panel{
  position:absolute; right:0; top:calc(100% + 8px); width:360px;
  background:#fff; border:1px solid #ecebfd;
  box-shadow:0 14px 28px rgba(23,8,63,.14);
  border-radius:12px; z-index:40; overflow:hidden;
}
.notif-head{
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 12px; background:#f8f6ff; border-bottom:1px solid #eee;
}
.notif-actions{ display:flex; gap:6px; }
.mini{
  height:28px; padding:0 10px; border-radius:8px;
  border:1px solid #e6e0ff; background:#fff; color:#6b4acb; font-weight:700; cursor:pointer;
}
.mini:hover{ background:#f5f1ff; }
.mini.danger{ color:#d04848; border-color:#f2d5d5; }
.mini.danger:hover{ background:#fde8e8; }
.notif-list{ max-height:380px; overflow:auto; }
.notif-empty{ padding:16px; text-align:center; color:#7a768a; }

.notif-item{
  display:grid; grid-template-columns:1fr auto; gap:8px;
  padding:10px 12px; border-bottom:1px solid #f0eef7;
}
.notif-item.is-unread{ background:#faf8ff; }
.notif-item:last-child{ border-bottom:0; }
.notif-title{ font-weight:700; color:#4335a7; }
.notif-message{ color:#5f5974; margin-top:2px; }
.notif-time{ color:#9a8db6; font-size:12px; margin-top:4px; }
.notif-buttons{ display:flex; gap:6px; align-items:flex-start; }

/* ========== User menu ========== */
.nav-user{ position:relative; }
.user-btn{
  display:inline-flex; align-items:center; gap:8px; background:transparent; border:0;
  font-weight:700; cursor:pointer; padding:6px 8px; border-radius:10px; color:#fff;
}
.user-btn:hover{ background: rgba(0,0,0,.08); }
.avatar{
  width:28px; height:28px; border-radius:999px; background:#6e54d6;
  color:#fff; font-size:14px; display:inline-flex; align-items:center; justify-content:center; font-weight:800;
}
.user-name{ max-width:160px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.chev{ transition: transform .15s ease; }
.chev.open{ transform: rotate(180deg); }

.user-menu{
  position:absolute; right:0; top:calc(100% + 8px);
  background:#fff; border:1px solid #ecebfd; box-shadow:0 14px 28px rgba(23,8,63,.14);
  border-radius:12px; min-width:200px; padding:8px; z-index:30;
}
.user-menu__item{
  width:100%; display:block; text-align:left; padding:10px 12px; border:0;
  background:transparent; color:#2e2a3d; font-weight:600; font-size:.95rem;
  border-radius:10px; cursor:pointer; text-decoration:none; transition: background .15s ease;
}
.user-menu__item:hover{ background:#f5f2ff; }
.user-menu__item.danger{ color:#d04848; }
.user-menu__item.danger:hover{ background:#fde8e8; }

/* ========== Modal (đổi mật khẩu) ========== */
.modal-backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.28); display:grid; place-items:center; z-index:1000;
}
.modal{
  width:380px; max-width:92vw; background:#fff; border-radius:14px;
  box-shadow:0 20px 40px rgba(0,0,0,.18); padding:18px;
}
.modal-title{ margin:0 0 12px; color:#5e3cb8; font-size:20px; font-weight:800; }
.modal-input{
  width:100%; height:40px; margin:8px 0; border:1px solid #e6e0ff; border-radius:10px;
  background:#faf8ff; padding:0 12px; outline:none;
}
.modal-input:focus{ border-color:#7a59d9; box-shadow:0 0 0 3px rgba(122,89,217,.15); }
.modal-actions{ display:flex; gap:10px; justify-content:flex-end; margin-top:12px; }
.modal-btn{
  height:38px; padding:0 16px; border:none; border-radius:10px; background:#7a59d9; color:#fff; font-weight:800; cursor:pointer;
}
.modal-btn:hover{ background:#6b4acb; }
.modal-btn:disabled{ opacity:.7; cursor:default; }
.modal-btn.ghost{ background:transparent; color:#6b4acb; border:2px solid #e6e0ff; }
.modal-btn.ghost:hover{ background:#f5f1ff; }

/* ========== Responsive ========== */
@media (max-width: 900px){
  .header .search input{ width: 200px; }
}
@media (max-width: 600px){
  .header .search{ display:none; } /* tuỳ ý: ẩn search khi màn quá nhỏ */
  .user-name{ display:none; }
}
